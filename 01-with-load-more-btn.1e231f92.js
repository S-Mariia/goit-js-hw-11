function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return o[e]=a,n.call(a.exports,a,a.exports),a.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var t=a("fZKcF"),s=a("jTkUK"),i=a("iQIUW"),l=a("3vGNy");const c={form:document.querySelector("#search-form"),submitBtn:document.querySelector("#search-form > button"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")};c.submitBtn.insertAdjacentHTML("beforeend",l.svgSearch);const d=new(0,s.default),f=new(e(t))(".gallery a");function u(e){return e.map((({webformatURL:e,largeImageURL:n,tags:o,likes:r,views:a,downloads:t,comments:s})=>`<div class="photo-card">\n    <a class='card-link' href="${e}">\n    <img src="${n}" alt="${o}" loading="lazy" />\n    </a>\n    <div class="info">\n    <p class="info-item">\n    ${l.svgLikes}\n    <span> ${r} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgViews}\n    <span> ${a} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgComments}\n    <span> ${s} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgDownloads}\n    <span> ${t} </span>  \n    </p>\n    </div>\n    </div>`)).join("")}function g(e){c.gallery.insertAdjacentHTML("beforeend",e)}function m(){c.loadMoreBtn.classList.add("hidden")}function y(){const{height:e}=c.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}m(),c.form.addEventListener("submit",(async function(e){e.preventDefault(),c.gallery.innerHTML="",m(),d.resetPage(),d.searchQuery=e.target.elements.searchQuery.value;try{const{totalHits:e,hits:n}=await d.fetchImages();if(d.amountOfPages=Math.ceil(e/40),d.canLoadMoreImages()&&c.loadMoreBtn.classList.remove("hidden"),0===e)throw i.Notify.warning("Sorry, there are no images matching your search query. Please try again."),new Error("Sorry, there are no images matching your search query. Please try again.");i.Notify.success(`Hooray! We found ${e} images.`);g(u(n)),f.refresh(),y()}catch(e){console.log(e)}})),c.loadMoreBtn.addEventListener("click",(async function(){d.increasePage(),d.canLoadMoreImages()||(m(),console.log("III"),i.Notify.info("We're sorry, but you've reached the end of search results."));try{const{hits:e}=await d.fetchImages();g(u(e)),f.refresh(),y()}catch(e){console.log(e)}}));
//# sourceMappingURL=01-with-load-more-btn.1e231f92.js.map
