function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return a[e]=r,n.call(r.exports,r,r.exports),r.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,n){o[e]=n},n.parcelRequired7c6=r);var t=r("fZKcF"),s=r("jTkUK"),i=r("iQIUW"),l=r("3vGNy");const c={form:document.querySelector("#search-form"),submitBtn:document.querySelector("#search-form > button"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more"),loader:document.querySelector(".loader")};c.submitBtn.insertAdjacentHTML("beforeend",l.svgSearch);const d=new(0,s.default),u=new(e(t))(".gallery a");function f(e){return e.map((({webformatURL:e,largeImageURL:n,tags:a,likes:o,views:r,downloads:t,comments:s})=>`<div class="photo-card">\n    <a class='card-link' href="${e}">\n    <img src="${n}" alt="${a}" loading="lazy" />\n    </a>\n    <div class="info">\n    <p class="info-item">\n    ${l.svgLikes}\n    <span> ${o} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgViews}\n    <span> ${r} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgComments}\n    <span> ${s} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgDownloads}\n    <span> ${t} </span>  \n    </p>\n    </div>\n    </div>`)).join("")}function m(e){c.gallery.insertAdjacentHTML("beforeend",e)}function g(){c.loadMoreBtn.classList.remove("hidden")}function h(){c.loadMoreBtn.classList.add("hidden")}function y(){const{height:e}=c.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}function p(){c.loader.classList.add("hidden")}c.form.addEventListener("submit",(async function(e){e.preventDefault(),h(),c.loader.classList.remove("hidden"),d.resetPage();const n=e.target.elements.searchQuery.value.trim();try{if(""===n)throw i.Notify.warning("The input is empty. Please type something."),p(),new Error("empty input");d.searchQuery=n,c.gallery.innerHTML="";const{totalHits:e,hits:a}=await d.fetchImages();if(d.amountOfPages=Math.ceil(e/40),d.canLoadMoreImages()&&g(),0===e)throw i.Notify.warning("Sorry, there are no images matching your search query. Please try again."),p(),new Error("Sorry, there are no images matching your search query. Please try again.");i.Notify.success(`Hooray! We found ${e} images.`);m(f(a)),u.refresh(),p(),y()}catch(e){console.log(e)}})),c.loadMoreBtn.addEventListener("click",(async function(){h(),c.loader.classList.remove("hidden"),c.loader.classList.add("loader--small"),d.increasePage();try{const{hits:e}=await d.fetchImages();m(f(e)),u.refresh(),c.loader.classList.add("hidden"),c.loader.classList.remove("loader--small"),g(),y(),d.canLoadMoreImages()||(h(),i.Notify.info("We're sorry, but you've reached the end of search results."))}catch(e){console.log(e)}}));
//# sourceMappingURL=01-with-load-more-btn.83ce956b.js.map
