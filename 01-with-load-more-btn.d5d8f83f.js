function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return a[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){r[e]=n},n.parcelRequired7c6=o);var s=o("fZKcF"),t=o("jTkUK"),i=o("iQIUW"),l=o("3vGNy");const d={form:document.querySelector("#search-form"),submitBtn:document.querySelector("#search-form > button"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more"),loader:document.querySelector(".loader")};d.submitBtn.insertAdjacentHTML("beforeend",l.svgSearch);const c=new(0,t.default),u=new(e(s))(".gallery a");function f(e){return e.map((({webformatURL:e,largeImageURL:n,tags:a,likes:r,views:o,downloads:s,comments:t})=>`<div class="photo-card">\n    <a class='card-link' href="${e}">\n    <img src="${n}" alt="${a}" loading="lazy" />\n    </a>\n    <div class="info">\n    <p class="info-item">\n    ${l.svgLikes}\n    <span> ${r} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgViews}\n    <span> ${o} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgComments}\n    <span> ${t} </span>  \n    </p>\n    <p class="info-item">\n    ${l.svgDownloads}\n    <span> ${s} </span>  \n    </p>\n    </div>\n    </div>`)).join("")}function m(e){d.gallery.insertAdjacentHTML("beforeend",e)}function g(){d.loadMoreBtn.classList.remove("hidden")}function h(){d.loadMoreBtn.classList.add("hidden")}function y(){const{height:e}=d.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}d.form.addEventListener("submit",(async function(e){e.preventDefault(),d.gallery.innerHTML="",h(),d.loader.classList.remove("hidden"),c.resetPage(),c.searchQuery=e.target.elements.searchQuery.value.trim();try{const{totalHits:e,hits:n}=await c.fetchImages();if(c.amountOfPages=Math.ceil(e/40),c.canLoadMoreImages()&&g(),0===e)throw i.Notify.warning("Sorry, there are no images matching your search query. Please try again."),new Error("Sorry, there are no images matching your search query. Please try again.");i.Notify.success(`Hooray! We found ${e} images.`);m(f(n)),u.refresh(),d.loader.classList.add("hidden"),y()}catch(e){console.log(e)}})),d.loadMoreBtn.addEventListener("click",(async function(){h(),d.loader.classList.remove("hidden"),d.loader.classList.add("loader--small"),c.increasePage();try{const{hits:e}=await c.fetchImages();m(f(e)),u.refresh(),d.loader.classList.add("hidden"),d.loader.classList.remove("loader--small"),g(),y(),c.canLoadMoreImages()||(h(),i.Notify.info("We're sorry, but you've reached the end of search results."))}catch(e){console.log(e)}}));
//# sourceMappingURL=01-with-load-more-btn.d5d8f83f.js.map
